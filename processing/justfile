default: help

# Show help
help:
    @just --list

# ==== codebase ====

# Format using ruff format
[group('codebase')]
format:
    fd --extension py --type file . | xargs uv run ruff format

# Lint using ruff check
[group('codebase')]
lint:
    fd --extension py --type file . | xargs uv run ruff check

# Lint using ty check
[group('codebase')]
ty:
    uv run ty check

# sanity
[group('codebase')]
sanity:
    uv run scripts/sanity.py

# Format and lint in sequence
[group('codebase')]
check: format lint

# ==== processing ====

[group('preprocessing')]
preprocess-traits:
    uv run scripts/preprocess-traits.py

[group('preprocessing')]
preprocess-efo:
    uv run scripts/preprocess-efo.py

[group('postprocessing')]
aggregate-embeddings:
    uv run scripts/aggregate-embeddings.py
